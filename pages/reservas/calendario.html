<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MimoPet - Reserva de Servicios</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />
    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="../../assets/css/styles.css" />
    <!-- Estilos del calendario -->
    <link rel="stylesheet" href="../../assets/css/calendario.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
      rel="stylesheet"
    />
    <style>
      .service-detail {
        padding-top: 100px;
      }
      #diasMes {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 5px;
      }
      .dia {
        text-align: center;
        padding: 10px;
        cursor: pointer;
        border-radius: 5px;
        transition: all 0.3s ease;
      }
      .dia:hover {
        background-color: #f8f9fa;
      }
      .dia.seleccionado {
        background-color: #0d6efd;
        color: white;
      }
      .dia.no-disponible {
        background-color: #f8d7da;
        color: #842029;
        cursor: not-allowed;
      }
      .dia.actual {
        border: 2px solid #0d6efd;
      }
      .dia.otro-mes {
        color: #6c757d;
      }
    </style>

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-MGP4W9XF");
    </script>
    <!-- End Google Tag Manager -->

    <script>
      
      window.dataLayer.push({
        event: "page_view",
        page: {
          channel: "mimopet",
          name: "mimopet_reservas:calendario",
          category: "reservas",
        },
      });
    </script>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-MGP4W9XF"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
      <div class="container">
        <a class="navbar-brand" href="../../index.html">
          <img
            src="../../assets/img/logo.png"
            alt="MimoPet Logo"
            height="40"
            class="me-2"
          />
          MimoPet
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
              >
                Servicios
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="../servicios/peluqueria.html"
                    >Peluquería</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="../servicios/cuidado-domicilio.html"
                    >Cuidado a domicilio</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="../servicios/guarderia.html"
                    >Guardería</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
              >
                Reservas
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="calendario.html"
                    >Hacer una Reserva</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../quienes-somos.html"
                >¿Quiénes Somos?</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link profile-link" href="../admin/">
                <i class="bi bi-shield-lock me-1"></i>Área privada
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Contenido del Calendario -->
    <section class="service-detail">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <h1 class="mb-4 text-center">Reserva tu Servicio</h1>

            <!-- Calendario Container -->
            <div class="calendario-container card">
              <div class="card-body">
                <!-- Controles del calendario -->
                <div class="calendario-controles">
                  <div class="d-flex align-items-center gap-2">
                    <select id="selectMes" class="form-select">
                      <option value="0">Enero</option>
                      <option value="1">Febrero</option>
                      <option value="2">Marzo</option>
                      <option value="3">Abril</option>
                      <option value="4">Mayo</option>
                      <option value="5">Junio</option>
                      <option value="6">Julio</option>
                      <option value="7">Agosto</option>
                      <option value="8">Septiembre</option>
                      <option value="9">Octubre</option>
                      <option value="10">Noviembre</option>
                      <option value="11">Diciembre</option>
                    </select>
                    <select id="selectAnio" class="form-select"></select>
                  </div>
                  <div class="btn-group">
                    <button id="btnPrev" class="btn btn-outline-primary">
                      <i class="bi bi-chevron-left"></i>
                    </button>
                    <button id="btnHoy" class="btn btn-outline-primary">
                      Hoy
                    </button>
                    <button id="btnNext" class="btn btn-outline-primary">
                      <i class="bi bi-chevron-right"></i>
                    </button>
                  </div>
                </div>

                <!-- Días de la semana -->
                <div class="dias-semana">
                  <div>Lun</div>
                  <div>Mar</div>
                  <div>Mié</div>
                  <div>Jue</div>
                  <div>Vie</div>
                  <div>Sáb</div>
                  <div>Dom</div>
                </div>

                <!-- Días del mes -->
                <div id="diasMes"></div>
              </div>
            </div>

            <!-- Formulario de Reserva -->
            <div id="formularioReserva" class="card mt-4 d-none">
              <div class="card-body">
                <h3>Detalles de la Reserva</h3>
                <p id="fechaSeleccionadaTexto" class="lead"></p>

                <form id="reservarCitaForm" class="needs-validation" novalidate>
                  <input type="hidden" id="fechaReserva" name="fechaReserva" />

                  <div class="row mb-3">
                    <div class="col-md-6">
                      <label for="horaDesde" class="form-label"
                        >Hora de inicio</label
                      >
                      <select
                        id="horaDesde"
                        name="horaDesde"
                        class="form-select"
                        required
                      ></select>
                    </div>
                    <div class="col-md-6">
                      <label for="horaHasta" class="form-label"
                        >Hora de fin</label
                      >
                      <select
                        id="horaHasta"
                        name="horaHasta"
                        class="form-select"
                        required
                      ></select>
                    </div>
                  </div>

                  <div class="mb-3">
                    <label for="tipoServicio" class="form-label"
                      >Tipo de Servicio</label
                    >
                    <select
                      id="tipoServicio"
                      name="tipoServicio"
                      class="form-select"
                      required
                    >
                      <option value="">Seleccione un servicio</option>
                      <option value="Peluquería">Peluquería (25€/hora)</option>
                      <option value="Cuidado a Domicilio">
                        Cuidado a Domicilio (5€/hora)
                      </option>
                      <option value="Guardería">Guardería (8€/hora)</option>
                    </select>
                  </div>

                  <div class="row mb-3">
                    <div class="col-md-6">
                      <label for="nombreCompleto" class="form-label"
                        >Nombre Completo</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="nombreCompleto"
                        name="nombreCompleto"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="email" class="form-label">Email</label>
                      <input
                        type="email"
                        class="form-control"
                        id="email"
                        name="email"
                        required
                      />
                    </div>
                  </div>

                  <div class="row mb-3">
                    <div class="col-md-6">
                      <label for="telefono" class="form-label">Teléfono</label>
                      <input
                        type="tel"
                        class="form-control"
                        id="telefono"
                        name="telefono"
                        required
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="nombreMascota" class="form-label"
                        >Nombre de la Mascota</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="nombreMascota"
                        name="nombreMascota"
                        required
                      />
                    </div>
                  </div>

                  <div class="row mb-3">
                    <div class="col-md-6">
                      <label for="especieMascota" class="form-label"
                        >Especie de la Mascota</label
                      >
                      <select
                        class="form-select"
                        id="especieMascota"
                        name="especieMascota"
                        required
                      >
                        <option value="">Seleccione una especie</option>
                        <option value="Perro">Perro</option>
                        <option value="Gato">Gato</option>
                        <option value="Conejo">Conejo</option>
                        <option value="Ave">Ave</option>
                        <option value="Otro">Otro</option>
                      </select>
                    </div>
                  </div>

                  <div class="mb-3">
                    <label for="observaciones" class="form-label"
                      >Observaciones</label
                    >
                    <textarea
                      class="form-control"
                      id="observaciones"
                      name="observaciones"
                      rows="3"
                    ></textarea>
                  </div>

                  <div class="alert alert-info">
                    <strong>Precio Total:</strong>
                    <span id="precioTotal">0.00€</span>
                  </div>

                  <button type="submit" class="btn btn-primary">
                    Confirmar Reserva
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-5">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 mb-4">
            <h5>MimoPet</h5>
            <p>Cuidando a tus mascotas como si fueran nuestras desde 2025.</p>
          </div>
          <div class="col-lg-4 mb-4">
            <h5>Enlaces Rápidos</h5>
            <ul class="footer-links">
              <li>
                <a href="../../index.html">
                  <i class="bi bi-house-heart-fill"></i>
                  Página Principal
                </a>
              </li>
              <li>
                <a href="../../index.html#servicios">
                  <i class="bi bi-stars"></i>
                  Nuestros Servicios
                </a>
              </li>
              <li>
                <a href="calendario.html">
                  <i class="bi bi-calendar-heart-fill"></i>
                  Reserva tu Cita
                </a>
              </li>
              <li>
                <a href="../quienes-somos.html">
                  <i class="bi bi-heart-fill"></i>
                  Conócenos
                </a>
              </li>
            </ul>
          </div>
          <div class="col-lg-4 mb-4">
            <h5>Síguenos</h5>
            <div class="footer-social">
              <a href="#" title="Facebook">
                <i class="bi bi-facebook"></i>
              </a>
              <a href="#" title="Instagram">
                <i class="bi bi-instagram"></i>
              </a>
              <a href="#" title="Twitter">
                <i class="bi bi-twitter-x"></i>
              </a>
            </div>
          </div>
        </div>
        <hr class="my-4" />
        <div class="text-center">
          <small>&copy; 2025 MimoPet. Todos los derechos reservados.</small>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SweetAlert2 ANTES de calendario.js -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Calendario JS -->
    <script src="../../assets/js/calendario.js"></script>
  </body>
</html>
